# Plate Reverb

## 功能介绍

* 通过模仿空间反射，产生空间混响的效果

## 算法类型
### Reverb
普通混响音效
- 在lib_media_config.c中，`PLATE_REVERB_ROOM_SIZE_Mutiplier`变量，可配置为**1**或者**2**，影响申请的buffer大小。配置为2相较于配置为1，在相同的roomsize参数下，可获得更强的空间感和更长的尾音。

### Reverb_Adv
高级混响音效
- 对比 Reverb 消耗资源更多，但是声音效果上可以调得更柔和(diffusion调节声音可以更散，更匀)，以及做出更大的空间感。

## 参数简述
* **Dry Gain**：原声（干声）增益，这里比较大，整体声音会比较有力
* **Wet Gain**：湿声增益，这里比较大，整体声音听起来会空间感会比较强。
* **Decay Factor**：衰减参数，越大保留越多，衰减越慢，持续时间越长
* **High Frequecy Damping**：高频衰减系数， 越大高频衰减越快，越小，高频保留越多。这个值比较大的话，会减弱尾音中的高频部分，所以这个值变大听起来尾音衰减也会变快。
* **High Cutoff**: 湿声部分的初始低通滤波。这个值比较大，效果音听起来会比较明亮。
* **Pre-delay**: 干声跟湿声之间的延时。 如果希望干声跟湿声发声间隔紧密的话，predelay就设小些。
* **Modulate**: 要不要抖动feedback，用途是打断相位。效果上听起来不明显。
* **Diffusion**：尾音的密集程度【比较小的时候，会听到尾音是比较分散，分明的， 然后 大点的话，尾音越密集，越不像echo那样尾音分明， 但是 太大的时候【例如90+】，尾音会有些类似金属敲击声】
* **Room Size**：减小的话会让整体空间感变小。 但是 plate reverb主要是润色用的混响，它没有明确空间感的那种感觉。做一些模式的时候，也可以通过它来调效果的差别



## FAQ
Q：**混响效果听起来比较无力？**<br>
A:可以将plateReverb模块的dry设成0。 干声通路使用bypass通路，这样可以单独调节bypass通路的eq 跟 plateReverb通路的eq。 加强bypass的通路的中低频。 然后 通过eq的totalgain来调整出2者的能量比例。  

Q：**混响长度太长？**<br>
A：首先区分样机是否带有模拟反馈成分？ 可以戴上耳机，关闭喇叭输出。听下尾音长度，如果依旧太长，可以减小decayfactor。 或者 加大highfrequecydamping。或者减小wet的比例。 这3种做法都会减小尾音长度。但是效果上也是有区别的。减小decayfactor的做法会使得尾音部分衰减变快。 而加大highfrequecydamping加大尾音的高频衰减，会让尾音感觉散开更快。 而减小wet则让声音听起来更扎实。
另外一种情况，如果模拟反馈成分占比也不小的话，可以适当调整bypass通路跟混响通路的输出增益。


Q：**开了混响后字跟字交叠在一起，不够分明？**<br>
A：可以检查下predelay是否过大，使得前一个字的效果音跟在了下一个字的干声部分。这时候可以把predelay调整到小于20ms再试下。另外一种情况就是尾音长度过长。这时候可以减小decayfactor。 或者 加大highfrequecydamping。或者减小wet的比例。这3种方案的差别在上一个问题已经提过了。
